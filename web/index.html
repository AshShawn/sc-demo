<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>

	<head>
		<link rel="stylesheet" href="style.css" type="text/css" />
	<link href="css(1).css" rel="stylesheet" type="text/css"/>
		<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
		<title>TODO supply a title</title>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
                <script type="text/javascript">
                    
	/**
	 * 登陆功能
	 */
	function dl(){
		var user = $("input[name='in_id']").val();
		var pass = $("input[name='in_id']").val();
		
		if(user=="" || pass==""){
			alert('账号密码错误，请重新输入');
			return;
		}
		
		$.ajax({
			type: "POST",
			url: "ShowUserByIdAndPwdServlet",
			data: {
				id: user,
				password : pass
			},
			dataType: "text",
			success: function(code) {
				if(code.equals("200") ) { //登录成功，类别为 用户
					//登陆成功 之后跳转的页面 TODO
					
				}else{
					alert('账号密码错误，请重新输入');
				}
			},
			error: function(code) {
				alert('账号密码错误，请重新输入');
			}
		});
	}

	/**
	 * 注册功能
	 */
	function zc(){
		var id = $("input[name='up_id']").val();
		var password = $("input[name='up_password']").val();
		var password_if = $("input[name='up_password_if']").val();
		var phone = $("input[name='up_phone']").val();
		
		if(password!=password_if){
			alert('两次密码不匹配，请重新输入');
			return;
		}else if(id=="" || password=="" || password_if=="" || phone=="" ){
			alert('信息有误，请重新输入');
			return;
		}
		$.ajax({
			type: "POST",
			url: "AddUerServlet",
			data: {
				id: id,
				password : password,
				phone : phone
			},
			dataType: "text",
			success: function(code) {
				if(code == '200') { //注册成功
					alert('注册成功，马上登录吧！');
					location.reload();
				}else{
					alert('账号密码错误，请重新输入');
				}
			},
			error: function(code) {
				alert('账号密码错误，请重新输入');
			}
		});
	}


</script>
	</head>

	<body>
            
		<div class="jq22-container" style="padding-top:10px">
			<div class="login-wrap">
				<div class="login-html">
					<input id="tab-1" type="radio" name="tab" class="sign-in" checked><label for="tab-1" class="tab">Sign In</label>
					<input id="tab-2" type="radio" name="tab" class="sign-up"><label for="tab-2" class="tab">Sign Up</label>
					<div class="login-form">
						<div class="sign-in-htm">
							<form id="form_1" method="post" action="ls">
								<div class="group">
									<label for="user" class="label">Username</label>
									<input id="user" name="in_id" type="text" class="input">
								</div>
								<div class="group">
									<label for="pass" class="label">Password</label>
									<input id="pass" name="in_pas" type="password" class="input" data-type="password">
								</div>
								<div class="group">
									<input id="check" type="checkbox" class="check" checked>
									<label for="check"><span class="icon"></span> Keep me Signed in</label>
								</div>
								<div class="group">
									<input type="button" onclick="dl()" class="button" value="Sign In">
								</div>
								<div class="hr"></div>
								<div class="foot-lnk">
									<a href="#forgot">Forgot Password?</a>
								</div>
							</form>
							
						</div>
						<div class="sign-up-htm">
							<form action="ls">
							<div class="group">
								<label for="user" class="label">Username</label>
								<input id="user" name="up_id" type="text" class="input">
							</div>
							<div class="group">
								<label for="pass" class="label">Password</label>
								<input id="pass" name="up_password" type="password" class="input" data-type="password">
							</div>
							<div class="group">
								<label for="pass" class="label">Repeat Password</label>
								<input id="pass" name="up_password_if" type="password" class="input" data-type="password">
							</div>
							<div class="group">
								<label for="pass" class="label">Phone Number</label>
								<input id="pass" name="up_phone" type="text" class="input">
							</div>
							<div class="group">
								<input type="button" onclick="zc()" class="button" value="Sign Up">
							</div>
							<div class="hr"></div>
							<div class="foot-lnk">
								<label for="tab-1">Already Member?</a>
                    		</div>
                    		</form>
                		</div>
		            </div>
		        </div>
		    </div>
		</div>
</body>

</html>